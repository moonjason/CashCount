<%- include('../partials/header') %>
<script src="../js/app.js" defer></script>
<div class="sidenav">
    <a href="#">About</a>
    <a href="#">Settings</a>
    <a href="/dash/logout">Logout</a>
</div>
<div class="main">
    <h1>Dashboard</h1>
    <div id="calculator">
        <input id="itemDesc" type="text" name="description" placeholder="Description">
        <input id="itemAmount" type="number" name="amount" placeholder="Amount">
        <button id="addInc" type="submit" value="+">+</button>
        <button id="addExp" type="submit" value="-">-</button>
    </div>
    <div id="dash">
        <h3>Income</h3>
        <ul id="inc">
            <li>Income Item</li>
            <% for (let i = 0; i < user.incomes.length; i++) { %>
            <li data-id="<%=user.incomes[i]._id%>"><%=user.incomes[i].description%> <%=user.incomes[i].amount%><form method="POST" action="/dash/<%=user.incomes[i]._id%>?_method=DELETE"><button type="submit">X</button></form></li>
            <% } %>
        </ul>
        <h3>Expense</h3>
        <ul id="exp">
            <li>Expense Item</li>
            <% for (let i = 0; i < user.expenses.length; i++) { %>
            <li data-id="<%=user.expenses[i]._id%>"><%=user.expenses[i].description%> <%=user.expenses[i].amount%><form method="POST" action="/dash/<%=user.expenses[i]._id%>?_method=DELETE"><button type="submit">X</button></form></li>
            <% } %>
        </ul>
    </div>
</div>
<%- include('../partials/footer') %>